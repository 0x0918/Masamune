# Gas Reduction opportunities  To check the actual size of the reduction, ``hardhat-gas-reporter`` is used. ( https://www.npmjs.com/package/hardhat-gas-reporter ). At each result, it lists how many size of the gas is reduced after the change.  --- # Title: ``Borrow.sol`` can shorten the code size and gas fee by extracting common functionality into private function  Here are codes which can be shared by a function. https://github.com/code-423n4/2022-03-timeswap/blob/main/Timeswap/Convenience/contracts/libraries/Borrow.sol#L368-L369  https://github.com/code-423n4/2022-03-timeswap/blob/main/Timeswap/Convenience/contracts/libraries/Borrow.sol#L409-L410  https://github.com/code-423n4/2022-03-timeswap/blob/main/Timeswap/Convenience/contracts/libraries/Borrow.sol#L452-L453  The above codes use following logic which can be shared: ``` IPair pair = params.factory.getPair(params.asset, params.collateral); require(address(pair) != address(0), 'E501'); ```  Here is an example common function: ``` function _commonCheck(     IFactory factory,     IERC20 asset,     IERC20 collateral ) private view returns(IPair pair) {     pair = factory.getPair(asset, collateral);     require(address(pair) != address(0), 'E501'); } ```  The above function can be used at each place like this: ``` IPair pair = _commonCheck(params.factory, params.asset, params.collateral); ```  Here is the comparison of the gas cost at Borrow.sol - Before: 2591800 - After: 2524220 - Redution: 67580 (About 2.6% reduction)  Borrow.sol  - Before: 11.48 KB - After: 11.17 KB - Reduction: 0.31 KB  ---
